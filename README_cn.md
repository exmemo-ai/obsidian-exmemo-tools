## 介绍

ExMemo Tools 提供智能化的文档管理功能，帮助用户将文件自动分类和整理到适宜的目录和位置。结合大型语言模型（LLM）的能力，它不仅能自动生成和更新文件的元信息，还能优化选定的文本内容，从而实现高效的信息管理和文档编辑。

## 主要功能

* 将当前文档移动到适合的目录中。
* 在当前文档的适当位置插入当前选区的内容。
* 利用大型语言模型（LLM）优化选中的内容。
* 生成并更新文件的元信息，包括标签、简述、标题、编辑时间等。

## 使用方法

### 设置

在使用本工具前，请确保完成以下设置：

* 首先，设置与 LLM 相关的选项，包括 API 密钥、基础 URL 和模型名称。
* 如果使用自动生成标签功能，建议在使用前预先填写标签列表，或从当前仓库中自动提取已有标签，以便生成的标签更符合用户的风格。
* 若需修改生成简述的方法，请在设置中调整生成描述的提示词。
* 对于较长文章的元数据生成，调用模型时可能会产生较高费用，建议通过设置中的“内容截断”功能来控制成本。

### 生成元信息

通过按下 Ctrl+P，选择：ExMemo Tools: 生成元数据。

生成标签和描述常常是个令人头疼的任务。我们经常会生成意思相同但写法不同的标签，这会对后续处理造成影响。为了解决这个问题，我们实现了自动生成标签的功能，每次可以自动生成三个标签。用户可以在设置中定义标签的范围，也可以从当前仓库中提取出现过两次以上的标签作为侯选项。对于文档短描述的生成，工具提供了默认的提示词，用户可以在设置中编辑提示词，以便定义自己的风格。

在生成标签和描述的过程中，需要将文档内容提供给 LLM。对于长度较长的文档，这可能会导致较高的费用。因此工具在设置中提供了截断功能，可以仅将文件的头部、首尾或文中标题传给模型。对于包含标签和描述的文档，可以在设置中选择不再重复生成这些信息，从而有效地控制费用。

此外，生成文件的标题、生成日期和编辑日期等操作虽然常用但却繁琐。我们的工具提供一键生成这些元信息，大大简化了日常工作流程。

### 文件归档

通过按下 Ctrl+P，选择：ExMemo Tools: 为当前文件选择合适的目录。

当我们的笔记数据量庞大且目录结构复杂时，通常需要花费一些时间来将新的文档放入合适的目录中。本工具提供文件归档功能，通过提交当前打开文件的文件名、元数据中的文件描述以及当前仓库的目录结构给大模型，由模型推荐三个最适合归档的目录。用户可以选择一个目录后，迅速将文件移动至该目录。

为了节省使用大模型的成本并实现更精准的归档功能，用户可以在对话框中选择特定目录，以将其子目录作为选项，并支持使用 'Tab' 键补全目录名。此外，设置中还提供排除某些归档目录的选项，以避免临时目录的干扰。

### 内容插入管理

通过按下 Ctrl+P，选择：ExMemo Tools: 将选中的文本插入到 markdown 合适位置。

在笔记内容较多的情况下，当想要添加新片段时，往往需要从头到尾浏览整个文件，以找到合适的插入位置。本工具通过将当前选择的内容和整个文档一并传入大模型，帮助用户精确定位到合适的插入点，同时将新插入的内容加粗显示，从而显著提高编辑效率。

### 内容优化升级

通过按下 Ctrl+P，选择 "ExMemo Tools: LLM 助手 "。

在弹出的框中，你可以输入任何提示词。工具会将提示词与当前选中文本一起传递给 LLM，实现文本润色、翻译、重构等功能，相当于将 LLM 界面嵌入到 Obsidian 中。

与聊天工具相比，该工具不会记忆之前的对话，因此更加节省 token。

对于普通用户来说，常用的提示词数量通常有限。工具会记住用户输入的提示词，并根据使用频率进行排序，方便用户下次直接选择。

建议将 LLM 助手功能设置为快捷键，以便更快速地调用。

## License

本项目采用 GNU Lesser General Public License v3.0 许可证。有关详细信息，请参见 [LICENSE](./LICENSE) 文件。